<div class="container">
    <div class="row">
        <div class="col-md-8 mx-auto">
            <div class="card">
                <div class="card-header">
                    <h3>Registration</h3>
                    <h5 *ngIf="!successRes; else successResponse" class="displayError">
                        {{regMessage}}
                    </h5>
                    <ng-template #successResponse>
                        <span class="success">
                            <b>{{regMessage}}</b>
                        </span>
                    </ng-template>
                    
                    <div *ngIf="errors?.length > 0" 
                        class="displayError">
                        <h6>
                            <ul>
                                <li *ngFor="let error of errors">
                                    {{ error }}
                                </li>
                            </ul>
                        </h6>
                    </div>
                </div>
                <div class="card-body">
                    <form [formGroup]="form" 
                        (ngSubmit)="onSubmit()">

                        <div class="row">
                            <div class="col-md-6 mx-auto">
                                <div class="form-group">
                                    <label>App Role : </label>
                                    <select class="form-control"                                         
                                        [ngClass]="{ 'is-invalid': submitted && f['AppRole'].errors }" 
                                        formControlName="AppRole">
                                        <option disabled>Select App Role</option>
                                        <option value="">Choose App Role</option>
                                        <option value="Admin">Admin</option>
                                        <option value="Operator">Operator</option>
                                    </select>
                                    <div *ngIf="submitted && f['AppRole'].errors" 
                                        class="invalid-feedback">
                                        <div *ngIf="f['AppRole'].errors['required']">App Role is required</div>
                                    </div>
                                </div>
                                <p></p>
                                <div class="form-group">
                                    <label>First Name</label>
                                    <input type="text" 
                                        formControlName="FirstName" 
                                        class="form-control"
                                        [ngClass]="{ 'is-invalid': submitted && f['FirstName'].errors }" />
                                    <div *ngIf="submitted && f['FirstName'].errors" 
                                        class="invalid-feedback">
                                        <div *ngIf="f['FirstName'].errors['required']">
                                            First Name is required
                                        </div>
                                    </div>
                                </div>
                                <p></p>
                                <div class="form-group">
                                    <label>Last Name</label>
                                    <input type="text" 
                                        formControlName="LastName" 
                                        class="form-control"
                                        [ngClass]="{ 'is-invalid': submitted && f['LastName'].errors }" />
                                    <div *ngIf="submitted && f['LastName'].errors" 
                                        class="invalid-feedback">
                                        <div *ngIf="f['LastName'].errors['required']">
                                            LastName is required
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 mx-auto">
                                <div class="form-group">
                                    <label>Email</label>
                                    <input type="text" 
                                        formControlName="Email" 
                                        class="form-control"
                                        [ngClass]="{ 'is-invalid': submitted && f['Email'].errors }" />
                                    <div *ngIf="submitted && f['Email'].errors" 
                                        class="invalid-feedback">
                                        <div *ngIf="f['Email'].errors['required']">
                                            Email is required
                                        </div>
                                        <div *ngIf="f['Email'].errors['email']">
                                            Email is invalid
                                        </div>
                                    </div>
                                </div>  
                                <p></p>
                                <div class="form-group">
                                    <label>Password</label>
                                    <input type="password" 
                                        formControlName="Password" 
                                        class="form-control"
                                        [ngClass]="{ 'is-invalid': submitted && f['Password'].errors }" />
                                    <div *ngIf="submitted && f['Password'].errors" 
                                        class="invalid-feedback">
                                        <div *ngIf="f['Password'].errors['required']">
                                            Password is required
                                        </div>
                                        <div *ngIf="f['Password'].errors['minlength']">
                                            Password must be at least 6 characters
                                        </div>
                                        <div *ngIf="f['Password'].errors['maxlength']">
                                            Password must not exceed 40 characters
                                        </div>
                                    </div>
                                </div>
                                <p></p>
                                <div class="form-group">
                                    <label>Confirm Password</label>
                                    <input type="password" 
                                        formControlName="ConfirmPassword" 
                                        class="form-control"
                                        [ngClass]="{ 'is-invalid': submitted && f['ConfirmPassword'].errors }" />
                                    <div *ngIf="submitted && f['ConfirmPassword'].errors" 
                                        class="invalid-feedback">
                                        <div *ngIf="f['ConfirmPassword'].errors['required']">
                                            Confirm Password is required
                                        </div>
                                        <div *ngIf="f['ConfirmPassword'].errors['matching']">
                                            Confirm Password does not match
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                     
                        <p></p>
                        <div class="form-group">
                            <button type="submit" 
                                class="btn btn-success">
                                Register
                            </button>
                            &nbsp;&nbsp;
                            <button type="button" 
                                (click)="onReset()" 
                                class="btn btn-primary float-right">
                                Reset
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>